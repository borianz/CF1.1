<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>indexDB</title>
    <script src='js/IndexDB.js'></script>
</head>
<body>
<input type="button" onclick="init();" value="indexedDB">
<script>
    function book(name,authoer,no)
    {
        return {author:authoer,name:name,no:no};
    }
    function init(){
var books=[book('看见','jake',1),book('幸福了吗','jake',2),book('少有人走的路','mike',3)];
        var newbooks=[book('看见2','jake',4),book('幸福了吗2','jake',5),book('少有人走的路2','mike',6)];
        var ixs=[storeIndex('ix_author','author',false,true),storeIndex('ix_name','name',true,false)];
        var bookDB= dbRequest('trial').whenOpen(function(db){
          //  db.deleteStore('books').
        }).whenConstruct(function(db){
              db.createStore('books','no',true,ixs,books.concat(newbooks));
          }).readStore('books',function(store){
             store.getObject(3,function(e){alert(this.result.name);});
        });



    }

</script>
</body>
</html>